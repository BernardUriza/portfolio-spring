# Test Profile Configuration
# Note: spring.profiles.active is set via environment variable or @ActiveProfiles annotation
# Cannot be defined here in Spring Boot 3.x (InvalidConfigDataPropertyException)

# Disable Spring Boot banner for cleaner test output
spring.main.banner-mode=off

# Logging configuration for tests
logging.level.root=WARN
logging.level.com.portfolio=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.testcontainers=INFO
logging.level.org.hibernate.SQL=DEBUG

# JPA configuration for tests
spring.jpa.show-sql=false
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.properties.hibernate.format_sql=true

# Disable Flyway for tests (TestContainers will create schema)
spring.flyway.enabled=false

# Disable AI features in tests
portfolio.ai.claude.enabled=false
portfolio.ai.budget.enabled=false

# Disable GitHub sync scheduler in tests
portfolio.sync.scheduler.enabled=false

# Disable keep-alive service in tests
portfolio.keepalive.enabled=false

# Security - disable CSRF for easier testing
# (Real security tested separately)
spring.security.user.name=admin
spring.security.user.password=admin
spring.security.user.roles=ADMIN

# Actuator endpoints for test metrics
management.endpoints.web.exposure.include=health,prometheus
management.metrics.export.prometheus.enabled=false

# Cache configuration for tests
spring.cache.type=simple
